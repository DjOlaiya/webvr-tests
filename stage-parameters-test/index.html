<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">

    <title>VRStageParameters basic test</title>

  </head>

  <body>
    <h1>VRStageParameters basic test</h1>

    <p></p>

    <ul>
    </ul>


  </body>
  <script>
    var list = document.querySelector('ul');
    var info = document.querySelector('p');
    var vrDisplay;

    if(navigator.getVRDisplays) {
        reportStageParams();
    } else {
      info.textContent = 'WebVR API not supported by this browser.'
    }

    function reportStageParams() {
      navigator.getVRDisplays().then(function(displays) {
        for(var i = 0; i < displays.length; i++) {
          vrDisplay = displays[0];
          var stageParams = displays[i].stageParameters;
          // stageParams is a VRStageParameters object

          if(stageParams === null) {
            info.textContent = 'Your VR Hardware does not support room-scale experiences.'
          } else {
            var listItem = document.createElement('li');
            listItem.innerHTML = '<strong>Display stage parameters</strong>'
                         + '<br>Sitting to standing transform: ' + stageParams.sittingToStandingTransform
                         + '<br>Play area width (m): ' + stageParams.sizeX
                         + '<br>Play area depth (m): ' + stageParams.sizeY
          }

          list.appendChild(listItem);
        }
      });
    }
  </script>
</html>
